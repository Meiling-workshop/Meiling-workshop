<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="search">
        按照价格查询：<input type="text" class="start"> - <input type="text"  class="end">
        <button class="search-price">搜索</button>按照商品名查询：<input type="text" class="product">
        <button class="search-pro">查询</button>
    </div>
    <table>
        <thead>
            <tr>
                <th>id</th>
                <th>产品名称</th>
                <th>价格</th>
            </tr>
        </thead>
        <tbody>

        </tbody>

    </table>
    <script>
   var data = [{
    id:1,
    pname:'小米',
    price:3999

   },
   {
     id:2,
    pname:'oppo',
    price:2999

   },{
      id:3,
    pname:'huawei',
    price:1999


   }
   ]
   var tbody = document.querySelector('tbody');
   var search_price = document.querySelector('.search-price')
   var start = document.querySelector('.start')
   var end = document.querySelector('.end')
   var product = document.querySelector('.product');
   var search_pro = document.querySelector('.search-pro')
   setDate(data);
   function setDate(mydata){
    //先清空原来的tbody里面的数据
    tbody.innerHTML = '';

    mydata.forEach(function(value){
        console.log(value);
        
    var tr = document.createElement('tr');
    tr.innerHTML = '<tr>' + value.id + '</td><td>' + value.pname + '</td><td>' + value.price + '</td>'
        tbody.appendChild(tr);

   })
}

   search_price.addEventListener('click',function(){
    var newData = data.filter(function(value){
        return value.price >= start.value && value.price <= end.value;
        
    });
    console.log(newData);
    setDate(newData);
    
   })
   //查寻数据的唯一元素用some方法更合适
   search_pro.addEventListener('click',function(){
    var arr = [];
    data.some(function(value){
        
        if(value.pname == product.value){
            console.log(value);
            arr.push(value);
            return true;
            
        }
    
    })
    //数据渲染
    setDate(arr);


   })

   


        
    </script>
    
</body>
</html>